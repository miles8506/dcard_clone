(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ae22487"],{1017:function(e,t,c){},"10cf":function(e,t,c){"use strict";c("d07d")},"1a99":function(e,t,c){e.exports=c.p+"img/iosstore.21d1de57.png"},"1d5e":function(e,t,c){},"366f":function(e,t,c){e.exports=c.p+"img/googleplay.09034108.png"},"7c02":function(e,t,c){"use strict";c("1017")},bee2:function(e,t,c){"use strict";c("1d5e")},d07d:function(e,t,c){},dc3f:function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n=c("6c02"),l=c("4abd"),r=c("a596"),s=c.n(r),i=function(e){return Object(a["B"])("data-v-e3bff878"),e=e(),Object(a["z"])(),e},o={class:"login_adv"},u=i((function(){return Object(a["h"])("div",{class:"adv_wrap"},[Object(a["h"])("div",{class:"login_bgc"},[Object(a["h"])("div",{class:"qrcode_box"},[Object(a["h"])("img",{src:s.a,class:"qrcode_img"}),Object(a["h"])("p",null,"立即掃描下載 Dcard App！")])])],-1)})),b=i((function(){return Object(a["h"])("h4",{class:"intro_title"},"年輕人都在 Dcard 上討論",-1)})),d=i((function(){return Object(a["h"])("p",{class:"intro_conetnet"},[Object(a["i"])(" 不想錯過任何有趣的話題嗎？ "),Object(a["h"])("br"),Object(a["i"])("趕快加入我們吧！ ")],-1)})),v=Object(a["k"])({setup:function(e){var t=Object(n["d"])(),c=function(){t.replace("/")};return function(e,t){return Object(a["y"])(),Object(a["g"])("div",o,[u,Object(a["h"])("div",{class:"intro_text"},[b,d,Object(a["h"])("div",{class:"comment_area"},[Object(a["h"])("span",{onClick:c},"先看討論區")])])])}}}),h=(c("7c02"),c("d959")),j=c.n(h);const O=j()(v,[["__scopeId","data-v-e3bff878"]]);var f=O,p=c("9ab4"),_=c("366f"),m=c.n(_),g=c("1a99"),w=c.n(g),k=c("6022"),x=c("18cd");function y(e){var t,c=this;"google"===e?t=new k["a"].auth.GoogleAuthProvider:"facebook"===e&&(t=new k["a"].auth.FacebookAuthProvider),k["a"].auth().signInWithPopup(t).then((function(e){return Object(p["a"])(c,void 0,void 0,(function(){var t,c,a,n,l,r,s;return Object(p["b"])(this,(function(i){switch(i.label){case 0:return[4,Object(k["c"])("user")];case 1:return t=i.sent(),c=t.some((function(t){var c;return t.data().account===(null===(c=null===e||void 0===e?void 0:e.user)||void 0===c?void 0:c.email)})),c||Object(k["d"])("user",e.user.email,{account:null===(s=null===e||void 0===e?void 0:e.user)||void 0===s?void 0:s.email,artical:[],comment:[],likeArtical:[],likeComment:[]}),console.log(123),a=e.user,c?(r=t.filter((function(t){var c;return t.data().account===(null===(c=null===e||void 0===e?void 0:e.user)||void 0===c?void 0:c.email)})),n=r[0].data(),[3,4]):[3,2];case 2:return[4,Object(k["c"])("user")];case 3:l=i.sent(),r=l.filter((function(t){var c;return t.data().account===(null===(c=null===e||void 0===e?void 0:e.user)||void 0===c?void 0:c.email)})),n=r[0].data(),i.label=4;case 4:return a.email?x["a"].setLocalItem("clone_dcard_user_info",n):x["a"].setLocalItem("clone_dcard_user_info",""),[2]}}))}))}))}var D=function(e){return Object(a["B"])("data-v-711f799a"),e=e(),Object(a["z"])(),e},I={class:"login_form"},C={class:"form_wrap"},z={class:"main_login"},A=D((function(){return Object(a["h"])("span",{class:"else_login_bgc fb_bgc"},[Object(a["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",focusable:"false",role:"img","aria-hidden":"true"},[Object(a["h"])("path",{d:"M100 0C44.77 0 0 44.96 0 100.42c0 49.74 36.05 90.93 83.32 98.9v-77.95H59.2V93.3h24.12V72.63c0-24 14.6-37.08 35.93-37.08 10.21 0 18.99.76 21.54 1.1v25.08l-14.8.01c-11.59 0-13.83 5.53-13.83 13.65V93.3h27.67l-3.6 28.05h-24.07V200c49.48-6.05 87.84-48.29 87.84-99.61C200 44.96 155.23 0 100 0z"})])],-1)})),M=D((function(){return Object(a["h"])("span",{class:"text"},"Facebook 註冊 / 登入",-1)})),B=[A,M],P=D((function(){return Object(a["h"])("span",{class:"else_login_bgc gg_bgc"},[Object(a["h"])("svg",{viewBox:"0 0 24 24",focusable:"false",role:"img","aria-hidden":"true"},[Object(a["h"])("path",{fill:"#FBBB00",d:"M5.8 14.3l-.8 3H2A11.2 11.2 0 012 6.8l2.5.5 1.1 2.5a6.6 6.6 0 00-.4 2.2c0 .8.2 1.6.5 2.3"}),Object(a["h"])("path",{fill:"#518EF8",d:"M23 9.9l.2 2.1a11.2 11.2 0 01-4.2 8.7l-3.2-.1-.4-2.9a6.6 6.6 0 002.8-3.4h-6V10H23z"}),Object(a["h"])("path",{fill:"#28B446",d:"M19 20.7a11.2 11.2 0 01-16.9-3.4l3.7-3a6.6 6.6 0 006.2 4.4 6.6 6.6 0 003.4-1l3.6 3z"}),Object(a["h"])("path",{fill:"#F14336",d:"M19.2 3.4l-3.7 3a6.7 6.7 0 00-9.8 3.4l-3.6-3a11.2 11.2 0 0117-3.4"})])],-1)})),L=D((function(){return Object(a["h"])("span",{class:"text"},"Google 註冊 / 登入",-1)})),V=[P,L],H=D((function(){return Object(a["h"])("div",{class:"line"},[Object(a["h"])("hr"),Object(a["h"])("span",{class:"or_box"},"或"),Object(a["h"])("hr")],-1)})),F={class:"form_wrpa"},E={class:"email_wrap"},J=D((function(){return Object(a["h"])("div",{class:"email_hd"},[Object(a["h"])("label",{for:"email_ipt",class:"email_text"},"常用信箱"),Object(a["h"])("span",{class:"phone_text"},"使用手機登入")],-1)})),K={class:"email"},U={class:"psw_wrap"},W=D((function(){return Object(a["h"])("div",{class:"psw_hd"},[Object(a["h"])("label",{for:"psw_ipt"},"密碼")],-1)})),q={class:"psw"},G={class:"psw_box"},S=D((function(){return Object(a["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",focusable:"false",role:"img","aria-hidden":"true"},[Object(a["h"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(a["h"])("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})],-1)})),R=[S],Z=D((function(){return Object(a["h"])("div",{class:"alert_text"},[Object(a["i"])(" 註冊/登入即代表您同意遵守 "),Object(a["h"])("span",{class:"alert_link"},"Dcard 使用協議")],-1)})),$=D((function(){return Object(a["h"])("div",{class:"store_box"},[Object(a["h"])("div",{class:"store_wrap"},[Object(a["h"])("img",{src:m.a})]),Object(a["h"])("div",{class:"store_wrap"},[Object(a["h"])("img",{src:w.a})])],-1)})),N=Object(a["k"])({setup:function(e){var t=this,c=Object(a["D"])(),n=Object(a["D"])(!1),l=function(){"password"===c.value.type?(c.value.type="text",n.value=!n.value):(c.value.type="password",n.value=!n.value)},r=Object(a["D"])(""),s=Object(a["D"])(""),i=Object(a["D"])(!1),o=Object(a["D"])(!1),u=Object(a["D"])(""),b=Object(a["D"])(""),d=function(e){return Object(p["a"])(t,void 0,void 0,(function(){var t,c,a,n,l,d,v,h,j,O,f,_;return Object(p["b"])(this,(function(p){switch(p.label){case 0:if(e.preventDefault(),t=/^([\w\.\-]){1,64}\@([\w\.\-]){1,64}$/,c=t.test(r.value),a=/[0-9 a-z A-Z]{6,12}/,n=a.test(s.value),i.value=!1,o.value=!1,!c||!n)return[3,14];p.label=1;case 1:return p.trys.push([1,4,,13]),[4,k["a"].auth().signInWithEmailAndPassword(r.value,s.value)];case 2:return l=p.sent(),[4,Object(k["c"])("user")];case 3:return d=p.sent(),O=d.filter((function(e){var t;return e.data().account===(null===(t=null===l||void 0===l?void 0:l.user)||void 0===t?void 0:t.email)})),f=O[0].data(),l.user?x["a"].setLocalItem("clone_dcard_user_info",f):x["a"].setLocalItem("clone_dcard_user_info",""),[3,13];case 4:if(v=p.sent(),"auth/user-not-found"!==v.code)return[3,11];p.label=5;case 5:return p.trys.push([5,9,,10]),[4,k["a"].auth().createUserWithEmailAndPassword(r.value,s.value)];case 6:return h=p.sent(),[4,Object(k["d"])("user",h.user.email,{account:h.user.email,artical:[],comment:[],likeArtical:[],likeComment:[]})];case 7:return p.sent(),console.log("123"),[4,Object(k["c"])("user")];case 8:return j=p.sent(),console.log(j),O=j.filter((function(e){var t;return e.data().account===(null===(t=null===h||void 0===h?void 0:h.user)||void 0===t?void 0:t.email)})),f=O[0].data(),h.user?x["a"].setLocalItem("clone_dcard_user_info",f):x["a"].setLocalItem("clone_dcard_user_info",""),[3,10];case 9:throw _=p.sent(),new Error(_);case 10:return[3,12];case 11:"auth/wrong-password"===v.code&&(b.value="請重新輸入密碼"),p.label=12;case 12:return[3,13];case 13:return[3,15];case 14:c||n?c?n||(b.value="請確認密碼格式是否正確",o.value=!0):(u.value="請確認帳號格式是否正確",i.value=!0):(u.value="請確認帳號格式是否正確",b.value="請確認密碼格式是否正確",i.value=!0,o.value=!0),p.label=15;case 15:return[2]}}))}))},v=function(e){return Object(p["a"])(t,void 0,void 0,(function(){return Object(p["b"])(this,(function(t){switch(t.label){case 0:return e.preventDefault(),[4,y("google")];case 1:return t.sent(),[2]}}))}))},h=function(e){e.preventDefault(),y("facebook")};return function(e,t){return Object(a["y"])(),Object(a["g"])("div",I,[Object(a["h"])("div",C,[Object(a["h"])("div",z,[Object(a["h"])("button",{class:"else_login_btn fb_btn",onClick:h},B),Object(a["h"])("button",{class:"else_login_btn gg_btn",onClick:v,type:"button"},V),H,Object(a["h"])("form",F,[Object(a["h"])("div",E,[J,Object(a["h"])("div",K,[Object(a["P"])(Object(a["h"])("input",{type:"text",id:"email_ipt",placeholder:"輸入信箱","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.value=e})},null,512),[[a["L"],r.value,void 0,{trim:!0}]]),Object(a["P"])(Object(a["h"])("div",{class:"alarm_text"},Object(a["J"])(Object(a["K"])(u)),513),[[a["M"],i.value]])])]),Object(a["h"])("div",U,[W,Object(a["h"])("div",q,[Object(a["h"])("div",G,[Object(a["P"])(Object(a["h"])("input",{type:"password",id:"psw_ipt",placeholder:"輸入密碼（英文或數字6-12碼）",ref:function(e,t){t["pswIptRef"]=e,c.value=e},"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.value=e})},null,512),[[a["L"],s.value,void 0,{trim:!0}]]),Object(a["h"])("span",{class:Object(a["r"])(["svg_wrap",{current_fill:n.value}]),onClick:l},R,2)]),Object(a["P"])(Object(a["h"])("div",{class:"alarm_text"},Object(a["J"])(Object(a["K"])(b)),513),[[a["M"],o.value]])])]),Object(a["h"])("button",{class:"submit_btn",onClick:d,type:"button"}," 註冊 / 登入 ")]),Z]),$])])}}});c("10cf");const Q=j()(N,[["__scopeId","data-v-711f799a"]]);var T=Q,X={class:"login"},Y={class:"login_main"},ee=Object(a["k"])({setup:function(e){var t=Object(n["d"])();return k["a"].auth().onAuthStateChanged((function(e){if(null===e||void 0===e?void 0:e.email)return t.replace("/main")})),function(e,t){return Object(a["y"])(),Object(a["g"])("div",X,[Object(a["j"])(Object(a["K"])(l["a"]),{isShowHeader:!1,key:"loginHeader"}),Object(a["h"])("div",Y,[Object(a["j"])(f),Object(a["j"])(T)])])}}});c("bee2");const te=j()(ee,[["__scopeId","data-v-427fc7cf"]]);t["default"]=te}}]);
//# sourceMappingURL=chunk-3ae22487.f0550e23.js.map