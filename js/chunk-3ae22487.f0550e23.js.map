{"version":3,"sources":["webpack:///./src/views/login/cpns/loginForm.vue?f580","webpack:///./src/assets/img/iosstore.png","webpack:///./src/assets/img/googleplay.png","webpack:///./src/views/login/cpns/loginAdv.vue?7b37","webpack:///./src/views/login/login.vue?8229","webpack:///./src/views/login/cpns/loginAdv.vue","webpack:///./src/views/login/cpns/loginAdv.vue?1694","webpack:///./src/views/login/hook/loginFn.ts","webpack:///./src/views/login/cpns/loginForm.vue","webpack:///./src/views/login/cpns/loginForm.vue?ea2b","webpack:///./src/views/login/login.vue","webpack:///./src/views/login/login.vue?2b2e"],"names":["module","exports","_withScopeId","n","_hoisted_1","class","_hoisted_2","src","_hoisted_3","_hoisted_4","setup","__props","router","goMainPage","replace","_ctx","_cache","onClick","__exports__","otherLoginFn","otherName","provider","auth","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","then","res","userList","userStatus","some","item","data","account","user","email","artical","comment","likeArtical","likeComment","console","log","filterResult","filter","userInfo","updateUserList","setLocalItem","xmlns","viewBox","focusable","role","d","_hoisted_5","_hoisted_6","_hoisted_7","fill","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","for","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","pswIptRef","currentFill","showPwdIpt","value","type","vmodelAccount","vmodelPsw","isShowMailAlarm","isShowPswAlarm","accAlarmText","pswAlarmText","registerClick","e","preventDefault","regAccount","regAccountRes","test","regPsw","regPswRes","signInWithEmailAndPassword","code","createUserWithEmailAndPassword","Error","googleLogin","loginFB","id","placeholder","$event","trim","ref","_value","_refs","current_fill","onAuthStateChanged","dHeader","isShowHeader","key"],"mappings":"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","file":"js/chunk-3ae22487.f0550e23.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./loginForm.vue?vue&type=style&index=0&id=711f799a&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/iosstore.21d1de57.png\";","module.exports = __webpack_public_path__ + \"img/googleplay.09034108.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./loginAdv.vue?vue&type=style&index=0&id=e3bff878&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./login.vue?vue&type=style&index=0&id=427fc7cf&lang=less&scoped=true\"","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/img/qrcode.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e3bff878\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"login_adv\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"adv_wrap\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"login_bgc\" }, [\n    /*#__PURE__*/_createElementVNode(\"div\", { class: \"qrcode_box\" }, [\n      /*#__PURE__*/_createElementVNode(\"img\", {\n        src: _imports_0,\n        class: \"qrcode_img\"\n      }),\n      /*#__PURE__*/_createElementVNode(\"p\", null, \"立即掃描下載 Dcard App！\")\n    ])\n  ])\n], -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", { class: \"intro_title\" }, \"年輕人都在 Dcard 上討論\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"intro_conetnet\" }, [\n  /*#__PURE__*/_createTextVNode(\" 不想錯過任何有趣的話題嗎？ \"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"趕快加入我們吧！ \")\n], -1))\n\nimport { useRouter } from 'vue-router';\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst router = useRouter();\nconst goMainPage = () => {\n  router.replace('/');\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", { class: \"intro_text\" }, [\n      _hoisted_3,\n      _hoisted_4,\n      _createElementVNode(\"div\", { class: \"comment_area\" }, [\n        _createElementVNode(\"span\", { onClick: goMainPage }, \"先看討論區\")\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./loginAdv.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./loginAdv.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./loginAdv.vue?vue&type=style&index=0&id=e3bff878&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/miles/Desktop/sideproject/clone_dcard/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e3bff878\"]])\n\nexport default __exports__","import { firebase } from '@/service';\nimport { localStorage } from '@/hook/localStorageClass';\n\n// api\nimport { requestColApi, setQueryApi } from '@/service';\n\n// other login\nexport function otherLoginFn(otherName: string) {\n  let provider: any;\n  if (otherName === 'google') {\n    provider = new firebase.auth.GoogleAuthProvider();\n  } else if (otherName === 'facebook') {\n    provider = new firebase.auth.FacebookAuthProvider();\n  }\n  firebase\n    .auth()\n    .signInWithPopup(provider)\n    .then(async (res) => {\n      // 判斷該user登入是否為新user\n      const userList: any = await requestColApi('user');\n      const userStatus = userList.some(\n        (item: any) => item.data().account === res?.user?.email\n      );\n\n      if (!userStatus) {\n        setQueryApi('user', res.user!.email, {\n          account: res?.user?.email,\n          artical: [],\n          comment: [],\n          likeArtical: [],\n          likeComment: []\n        });\n      }\n      console.log(123);\n\n      // 將user相關info 暫存至local\n      const user = res.user;\n      let userInfo;\n      if (userStatus) {\n        const filterResult = userList.filter(\n          (item: any) => item.data().account === res?.user?.email\n        );\n        userInfo = filterResult[0].data();\n      } else {\n        const updateUserList: any = await requestColApi('user');\n        const filterResult = updateUserList.filter(\n          (item: any) => item.data().account === res?.user?.email\n        );\n        userInfo = filterResult[0].data();\n      }\n      user!.email\n        ? localStorage.setLocalItem('clone_dcard_user_info', userInfo)\n        : localStorage.setLocalItem('clone_dcard_user_info', '');\n    });\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, unref as _unref, toDisplayString as _toDisplayString, vShow as _vShow, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/img/googleplay.png'\nimport _imports_1 from '@/assets/img/iosstore.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-711f799a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"login_form\" }\nconst _hoisted_2 = { class: \"form_wrap\" }\nconst _hoisted_3 = { class: \"main_login\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"else_login_bgc fb_bgc\" }, [\n  /*#__PURE__*/_createElementVNode(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 200 200\",\n    focusable: \"false\",\n    role: \"img\",\n    \"aria-hidden\": \"true\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"path\", { d: \"M100 0C44.77 0 0 44.96 0 100.42c0 49.74 36.05 90.93 83.32 98.9v-77.95H59.2V93.3h24.12V72.63c0-24 14.6-37.08 35.93-37.08 10.21 0 18.99.76 21.54 1.1v25.08l-14.8.01c-11.59 0-13.83 5.53-13.83 13.65V93.3h27.67l-3.6 28.05h-24.07V200c49.48-6.05 87.84-48.29 87.84-99.61C200 44.96 155.23 0 100 0z\" })\n  ])\n], -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"Facebook 註冊 / 登入\", -1))\nconst _hoisted_6 = [\n  _hoisted_4,\n  _hoisted_5\n]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"else_login_bgc gg_bgc\" }, [\n  /*#__PURE__*/_createElementVNode(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    focusable: \"false\",\n    role: \"img\",\n    \"aria-hidden\": \"true\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"path\", {\n      fill: \"#FBBB00\",\n      d: \"M5.8 14.3l-.8 3H2A11.2 11.2 0 012 6.8l2.5.5 1.1 2.5a6.6 6.6 0 00-.4 2.2c0 .8.2 1.6.5 2.3\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"path\", {\n      fill: \"#518EF8\",\n      d: \"M23 9.9l.2 2.1a11.2 11.2 0 01-4.2 8.7l-3.2-.1-.4-2.9a6.6 6.6 0 002.8-3.4h-6V10H23z\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"path\", {\n      fill: \"#28B446\",\n      d: \"M19 20.7a11.2 11.2 0 01-16.9-3.4l3.7-3a6.6 6.6 0 006.2 4.4 6.6 6.6 0 003.4-1l3.6 3z\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"path\", {\n      fill: \"#F14336\",\n      d: \"M19.2 3.4l-3.7 3a6.7 6.7 0 00-9.8 3.4l-3.6-3a11.2 11.2 0 0117-3.4\"\n    })\n  ])\n], -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"Google 註冊 / 登入\", -1))\nconst _hoisted_9 = [\n  _hoisted_7,\n  _hoisted_8\n]\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"line\" }, [\n  /*#__PURE__*/_createElementVNode(\"hr\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"or_box\" }, \"或\"),\n  /*#__PURE__*/_createElementVNode(\"hr\")\n], -1))\nconst _hoisted_11 = { class: \"form_wrpa\" }\nconst _hoisted_12 = { class: \"email_wrap\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"email_hd\" }, [\n  /*#__PURE__*/_createElementVNode(\"label\", {\n    for: \"email_ipt\",\n    class: \"email_text\"\n  }, \"常用信箱\"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"phone_text\" }, \"使用手機登入\")\n], -1))\nconst _hoisted_14 = { class: \"email\" }\nconst _hoisted_15 = { class: \"psw_wrap\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"psw_hd\" }, [\n  /*#__PURE__*/_createElementVNode(\"label\", { for: \"psw_ipt\" }, \"密碼\")\n], -1))\nconst _hoisted_17 = { class: \"psw\" }\nconst _hoisted_18 = { class: \"psw_box\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  focusable: \"false\",\n  role: \"img\",\n  \"aria-hidden\": \"true\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }),\n  /*#__PURE__*/_createElementVNode(\"path\", { d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" })\n], -1))\nconst _hoisted_20 = [\n  _hoisted_19\n]\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"alert_text\" }, [\n  /*#__PURE__*/_createTextVNode(\" 註冊/登入即代表您同意遵守 \"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"alert_link\" }, \"Dcard 使用協議\")\n], -1))\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"store_box\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"store_wrap\" }, [\n    /*#__PURE__*/_createElementVNode(\"img\", { src: _imports_0 })\n  ]),\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"store_wrap\" }, [\n    /*#__PURE__*/_createElementVNode(\"img\", { src: _imports_1 })\n  ])\n], -1))\n\nimport { ref } from 'vue';\n\n// hook\nimport { otherLoginFn } from '../hook';\nimport { localStorage } from '@/hook/localStorageClass';\n\n// api\nimport { requestColApi, setQueryApi } from '@/service';\n\n// servie\nimport { firebase } from '@/service';\n\n// show&hide password\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst pswIptRef = ref();\nconst currentFill = ref(false);\nconst showPwdIpt = () => {\n  if (pswIptRef.value.type === 'password') {\n    pswIptRef.value.type = 'text';\n    currentFill.value = !currentFill.value;\n  } else {\n    pswIptRef.value.type = 'password';\n    currentFill.value = !currentFill.value;\n  }\n};\n\n// v-model account&psw and registeruser&login process\nconst vmodelAccount = ref('');\nconst vmodelPsw = ref('');\n\nconst isShowMailAlarm = ref<boolean>(false);\nconst isShowPswAlarm = ref<boolean>(false);\n\nlet accAlarmText = ref<string>('');\nlet pswAlarmText = ref<string>('');\n\n// normal login\nconst registerClick = async (e: any) => {\n  e.preventDefault();\n  const regAccount = /^([\\w\\.\\-]){1,64}\\@([\\w\\.\\-]){1,64}$/;\n  const regAccountRes = regAccount.test(vmodelAccount.value);\n  const regPsw = /[0-9 a-z A-Z]{6,12}/;\n  const regPswRes = regPsw.test(vmodelPsw.value);\n\n  // init alarm status\n  isShowMailAlarm.value = false;\n  isShowPswAlarm.value = false;\n  if (regAccountRes && regPswRes) {\n    try {\n      // login\n      const loginRes = await firebase\n        .auth()\n        .signInWithEmailAndPassword(vmodelAccount.value, vmodelPsw.value);\n\n      const userList: any = await requestColApi('user');\n      const filterResult = userList.filter(\n        (item: any) => item.data().account === loginRes?.user?.email\n      );\n      const userInfo = filterResult[0].data();\n\n      loginRes.user\n        ? localStorage.setLocalItem('clone_dcard_user_info', userInfo)\n        : localStorage.setLocalItem('clone_dcard_user_info', '');\n    } catch (err: any) {\n      if (err.code === 'auth/user-not-found') {\n        try {\n          // register\n          const registerRes = await firebase\n            .auth()\n            .createUserWithEmailAndPassword(\n              vmodelAccount.value,\n              vmodelPsw.value\n            );\n\n          // 將新註冊的user添加info\n          await setQueryApi('user', registerRes.user!.email, {\n            account: registerRes.user!.email,\n            artical: [],\n            comment: [],\n            likeArtical: [],\n            likeComment: []\n          });\n          console.log('123');\n\n          const updateUserList: any = await requestColApi('user');\n          console.log(updateUserList);\n\n          const filterResult = updateUserList.filter(\n            (item: any) => item.data().account === registerRes?.user?.email\n          );\n          const userInfo = filterResult[0].data();\n\n          registerRes.user\n            ? localStorage.setLocalItem('clone_dcard_user_info', userInfo)\n            : localStorage.setLocalItem('clone_dcard_user_info', '');\n        } catch (err: any) {\n          throw new Error(err);\n        }\n      } else if (err.code === 'auth/wrong-password') {\n        pswAlarmText.value = '請重新輸入密碼';\n      }\n    }\n  } else {\n    if (!regAccountRes && !regPswRes) {\n      accAlarmText.value = '請確認帳號格式是否正確';\n      pswAlarmText.value = '請確認密碼格式是否正確';\n      isShowMailAlarm.value = true;\n      isShowPswAlarm.value = true;\n    } else if (!regAccountRes) {\n      accAlarmText.value = '請確認帳號格式是否正確';\n      isShowMailAlarm.value = true;\n    } else if (!regPswRes) {\n      pswAlarmText.value = '請確認密碼格式是否正確';\n      isShowPswAlarm.value = true;\n    }\n  }\n};\n\n// google login\nconst googleLogin = async (e) => {\n  e.preventDefault();\n  await otherLoginFn('google');\n};\n\n// facebook login\nconst loginFB = (e) => {\n  e.preventDefault();\n  otherLoginFn('facebook');\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          class: \"else_login_btn fb_btn\",\n          onClick: loginFB\n        }, _hoisted_6),\n        _createElementVNode(\"button\", {\n          class: \"else_login_btn gg_btn\",\n          onClick: googleLogin,\n          type: \"button\"\n        }, _hoisted_9),\n        _hoisted_10,\n        _createElementVNode(\"form\", _hoisted_11, [\n          _createElementVNode(\"div\", _hoisted_12, [\n            _hoisted_13,\n            _createElementVNode(\"div\", _hoisted_14, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                id: \"email_ipt\",\n                placeholder: \"輸入信箱\",\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((vmodelAccount).value = $event))\n              }, null, 512), [\n                [\n                  _vModelText,\n                  vmodelAccount.value,\n                  void 0,\n                  { trim: true }\n                ]\n              ]),\n              _withDirectives(_createElementVNode(\"div\", { class: \"alarm_text\" }, _toDisplayString(_unref(accAlarmText)), 513), [\n                [_vShow, isShowMailAlarm.value]\n              ])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _hoisted_16,\n            _createElementVNode(\"div\", _hoisted_17, [\n              _createElementVNode(\"div\", _hoisted_18, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  type: \"password\",\n                  id: \"psw_ipt\",\n                  placeholder: \"輸入密碼（英文或數字6-12碼）\",\n                  ref: (_value, _refs) => {\n                    _refs['pswIptRef'] = _value\n                    pswIptRef.value = _value\n                  },\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((vmodelPsw).value = $event))\n                }, null, 512), [\n                  [\n                    _vModelText,\n                    vmodelPsw.value,\n                    void 0,\n                    { trim: true }\n                  ]\n                ]),\n                _createElementVNode(\"span\", {\n                  class: _normalizeClass([\"svg_wrap\", { current_fill: currentFill.value }]),\n                  onClick: showPwdIpt\n                }, _hoisted_20, 2)\n              ]),\n              _withDirectives(_createElementVNode(\"div\", { class: \"alarm_text\" }, _toDisplayString(_unref(pswAlarmText)), 513), [\n                [_vShow, isShowPswAlarm.value]\n              ])\n            ])\n          ]),\n          _createElementVNode(\"button\", {\n            class: \"submit_btn\",\n            onClick: registerClick,\n            type: \"button\"\n          }, \" 註冊 / 登入 \")\n        ]),\n        _hoisted_21\n      ]),\n      _hoisted_22\n    ])\n  ]))\n}\n}\n\n})","import script from \"./loginForm.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./loginForm.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./loginForm.vue?vue&type=style&index=0&id=711f799a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/miles/Desktop/sideproject/clone_dcard/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-711f799a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-427fc7cf\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"login\" }\nconst _hoisted_2 = { class: \"login_main\" }\n\nimport { useRouter } from 'vue-router';\n\n// components\nimport dHeader from '@/components/dHeader';\nimport LoginAdv from './cpns/loginAdv.vue';\nimport LoginForm from './cpns/loginForm.vue';\n\n// servie\nimport { firebase } from '@/service';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst router = useRouter();\n\n// 防呆\nfirebase.auth().onAuthStateChanged(function (user) {\n  if (user?.email) return router.replace('/main');\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(dHeader), {\n      isShowHeader: false,\n      key: \"loginHeader\"\n    }),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(LoginAdv),\n      _createVNode(LoginForm)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./login.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./login.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./login.vue?vue&type=style&index=0&id=427fc7cf&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/miles/Desktop/sideproject/clone_dcard/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-427fc7cf\"]])\n\nexport default __exports__"],"sourceRoot":""}